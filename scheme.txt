# Tables 

CREATE TABLE scandata (
    ip int,
    latitude decimal,
    longitude decimal,
    counter int,
    zipCode varchar(10),
    stateCode varchar(3),
    cityName varchar(25),
    county varchar(25),
    score decimal,
    PRIMARY KEY (ip)
);

CREATE TABLE scores (
  ip int,
  curscore double,
  PRIMARY KEY (ip)
)

# Index Creation

CREATE INDEX idx on scandata (ip)
CREATE INDEX scoreidx on scores (ip)


# Create trigger

CREATE TRIGGER score_sync AFTER INSERT ON scores
  FOR EACH ROW
    INSERT INTO scandata (ip, score) 
    VALUES (NEW.ip, NEW.curscore) 
    ON DUPLICATE KEY UPDATE score=NEW.curscore;
